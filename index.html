<!DOCTYPE html>
<html lang="en">
<head>
    <';
            box-sizing: border-box;
        }

        .pill-button,
        .select-color {
            background-color: var(--button-blue);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            margin-top: 5px;
            font-family: 'Fredoka';
        }

        @keyframes wiggle {
            0%,100% { transform: translateX(0); }
            25% { transform: translateX(-6px); }
            75% { transform: translateX(6px); }
        }

        .error-wiggle {
            animation: wiggle 0.3s ease-in-out;
            border: 2px solid white !important;
        }

        .hero h1 {
            color: var(--accent-yellow);
            font-size: 4rem;
            line-height: 0.9;
        }

        .shop-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 40px;
        }
    </style>
</head>

<body>

<header>
    <div class="header-left">
        <div style="font-size:1.5rem;font-weight:bold;">Quinntessential 3D</div>
    </div>
    <nav>
        <a href="#shop">Shop</a>
        <a href="#custom">Custom</a>
        <a href="#about">About</a>
    </nav>
    <div onclick="toggleCart()" style="cursor:pointer;">ðŸ›’ <span id="cart-count">0</span></div>
</header>

<div id="side-cart">
    <span onclick="toggleCart()" style="cursor:pointer;float:right;">Ã—</span>
    <h3>Your Cart</h3>
    <div id="cart-items-list" style="flex-grow:1;overflow:auto;"></div>
    <button class="pill-button" onclick="openCheckout()" style="background:var(--accent-yellow);color:#333;width:100%;">
        Proceed to Checkout
    </button>
</div>

<!-- âœ… FORM + REQUIRED FIELDS -->
<div id="checkout-modal">
<form action="https://formspree.io/f/mpqzlnzy" method="POST" onsubmit="prepareOrder()">

    <h2>Delivery Info</h2>

    <input class="modal-input" name="address" placeholder="Street Address" required>
    <input class="modal-input" name="postal" placeholder="Postal Code" required>
    <input class="modal-input" name="city" placeholder="City" required>
    <input class="modal-input" name="phone" placeholder="Phone Number" required>
    <input class="modal-input" type="email" name="email" placeholder="Customer Email" required>

    <textarea class="modal-input" name="note" placeholder="Special instructions (optional)" style="height:80px;"></textarea>

    <textarea id="order-data" name="order" hidden></textarea>

    <button class="pill-button" style="width:100%;background:var(--accent-yellow);color:#333;">
        Place Order
    </button>

    <button type="button" class="pill-button" onclick="closeCheckout()" style="width:100%;background:none;border:1px solid white;">
        Cancel
    </button>

</form>
</div>

<section class="hero">
    <h1>PRINT IT<br>LOVE IT</h1>
</section>

<section id="shop" class="shop-grid">

<div id="p1">
    <p><strong>Glasses Holder</strong> $4.99</p>
    <select class="select-color color-dropdown">
        <option value="">Select colour</option>
        <option>Red</option><option>Blue</option><option>Green</option>
        <option>White</option><option>Black</option><option>Sparkly purple</option>
        <option>Pink</option><option>Gold</option><option>Yellow</option>
        <option>Orange</option><option>Clear</option>
    </select>
    <button class="pill-button" onclick="addItem('Glasses Holder','p1','$4.99')">Add to cart</button>
</div>

<div>
    <p><strong>SpongeBob Holder</strong> $8.99</p>
    <button class="pill-button" onclick="addItem('SpongeBob Holder',null,'$8.99')">Add to cart</button>
</div>

</section>

<script>
let cart = [];

function toggleCart() {
    const c = document.getElementById('side-cart');
    c.style.display = c.style.display === 'flex' ? 'none' : 'flex';
}

function addItem(name, id, price) {
    let color = "Fixed";
    if (id) {
        const d = document.getElementById(id).querySelector('.color-dropdown');
        if (!d.value) {
            d.classList.add('error-wiggle');
            setTimeout(() => d.classList.remove('error-wiggle'), 300);
            return;
        }
        color = d.value;
    }
    cart.push({ name, color, price });
    updateCart();
}

function updateCart() {
    document.getElementById('cart-count').innerText = cart.length;
    document.getElementById('cart-items-list').innerHTML =
        cart.map(i => `<div>${i.name} - ${i.color} - ${i.price}</div>`).join('');
    document.getElementById('side-cart').style.display = 'flex';
}

function openCheckout() {
    if (cart.length === 0) return;
    document.getElementById('checkout-modal').style.display = 'block';
}

function closeCheckout() {
    document.getElementById('checkout-modal').style.display = 'none';
}

function prepareOrder() {
    document.getElementById('order-data').value =
        cart.map(i => `${i.name} | ${i.color} | ${i.price}`).join('\n');
}
</script>

</body>
</html>
